<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><title>ffmpeg 最方便的生产静态库的方案，一键到位，</title><link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/main.css"><link rel="shortcut icon" href="/img/header.jpg"></head><body><header class="base-menu"><div class="menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a href="/" class="menu-link">Coding的小学生</a></li><li class="menu-item"><a href="/archives" class="menu-link">目录</a></li><li class="menu-item"><a href="/about" class="menu-link">关于</a></li></ul></nav></div></header><header class="base-mobile-menu"><div class="mobile-menu-wrapper"><div class="menu-layout-bg"></div><nav class="menu-content"><ul class="menu-list"><li class="menu-item"><a href="/" class="menu-link">Coding的小学生</a></li><li class="menu-item"><a href="/archives" class="menu-link">目录</a></li><li class="menu-item"><a href="/about" class="menu-link">关于</a></li></ul></nav><div id="mobile-menu-toggle" class="toggle-menu"><span class="menu-bar"></span><span class="menu-bar"> </span><span class="menu-bar"></span></div></div></header><div class="base-content"><div class="base-content-main"><article class="article-main"><h1 class="article-title">ffmpeg 最方便的生产静态库的方案，一键到位，</h1><div class="article-meta"><p class="meta-item meta-time"><span class="meta-item-title">发表于: </span>2014-05-13</p><p class="meta-item meta-category"><span class="meta-item-title">分类于: </span><a href="/categories/技术/" target="_blank" class="category-link">技术</a></p></div><div class="article-content"><p>###<a href="http://witcheryne.iteye.com/blog/1734706" target="_blank" rel="external">Compile ffmpeg for iOS 6, support Simulator &amp; armv7 &amp; armv7s</a><br><strong>博客分类：</strong> - <a href="http://witcheryne.iteye.com/category/249787" target="_blank" rel="external">iphone &amp; ipad</a></p>
<p><a href="http://www.iteye.com/blogs/tag/iOS" target="_blank" rel="external">iOS</a><a href="http://www.iteye.com/blogs/tag/ffmpeg" target="_blank" rel="external">ffmpeg</a>In the posts, I will show how to use ffmpeg on iOS.</p>
<p><strong>This posts is a document for this project: </strong><br><a href="https://github.com/lvjian700/ffmpegc-demo" target="_blank" rel="external">https://github.com/lvjian700/ffmpegc-demo</a></p>
<a id="more"></a>
<p><strong>Now, ffmpec support x264 module. If you use the script before, please check your version first. </strong></p>
<p>##What is <a href="http://ffmpeg.org/" target="_blank" rel="external">ffmpeg</a> ?<br>FFmpeg is a complete, across-platform solution to record, convert and stream audio and video. </p>
<p>##Why use ffmpeg?</p>
<ul>
<li>Play h.264 video</li>
<li>encoding capture video to h.264 video(It need ffmpeg h.264 module.)</li>
<li>publish a av stream</li>
<li>subscribe a rtsp av stream</li>
</ul>
<p>##Before use ffmpegc-demo, you should download and compile ffmpeg:<br>I made a repository to make the step easy:Shell代码  <a href="&quot;收藏这段代码&quot;"><img src="http://witcheryne.iteye.com/images/icon_star.png" alt="收藏代码"></a>1. git clone git@github.com:lvjian700/ffmpegc.git  </p>
<ol>
<li>cd ffmpegc  </li>
<li><p>./install-ffmpeg.sh  </p>
<p><a href="https://github.com/lvjian700/ffmpegc" target="_blank" rel="external">https://github.com/lvjian700/ffmpegc</a>###If compile complete, you can find universal library in ffmpeg/build folder:</p>
</li>
<li>ffmpeg core library:<img src="http://dl2.iteye.com/upload/attachment/0085/0318/11a437db-5e28-3fd5-9ab3-4dd93f4147e5.png" alt=""><ol>
<li>ffmpeg x264 module. x264 is a H.264/MPEG-4 AVC encoder <img src="http://dl2.iteye.com/upload/attachment/0085/0320/380b5f32-3b5e-3e6c-b4dd-49e74191977e.png" alt="" title="点击查看原始大小图片"><br>##Using ffmpeg<br>###1. Clone project first:<br>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="http://witcheryne.iteye.com/images/icon_star.png" alt="收藏代码"></a>1. git@github.com:lvjian700/ffmpegc-demo.git  </li>
</ol>
</li>
</ol>
<p>###2.Open in XCode and copy build/<em>.a and x264/build/</em>.a to libs/ folder of the project:<br><img src="http://dl2.iteye.com/upload/attachment/0085/0325/82f6bf73-e1bd-3703-a6db-83a292bcb9b8.png" alt="" title="点击查看原始大小图片"></p>
<p>###3. Add them to project link library<br>Project References -&gt; Targets -&gt; Build Phases -&gt; Link Binary With Librarys<br><img src="http://dl.iteye.com/upload/attachment/0077/0400/120bf08f-a399-329b-a977-bc412ab4a7f2.png" alt="" title="点击查看原始大小图片"></p>
<p> ###4. Add dependences library:<br>Project References -&gt; Targets -&gt; Build Phases -&gt; Link Binary With LibrarysAdd two library:- libbz.dylib</p>
<ul>
<li>libz.dylib</li>
<li>libiconv.2.4.0.dylib</li>
</ul>
<p><img src="http://dl.iteye.com/upload/attachment/0077/0405/76568674-6942-3d9c-919b-b7c265fc89a3.png" alt=""></p>
<p> ###5. Add Header Search Paths:<br>Project References -&gt; Targets -&gt; Build Settings -&gt; <strong>Header Search Paths</strong>1. add ffmpeg core header paths:<img src="http://dl.iteye.com/upload/attachment/0077/0407/97b61036-201b-37c9-8355-9500aa0ade29.png" alt="" title="点击查看原始大小图片"></p>
<ol>
<li>add x264 header paths:<img src="http://dl2.iteye.com/upload/attachment/0085/0323/7746423e-3af6-329e-a827-d5c4ee037f6c.png" alt=""></li>
</ol>
<p>###6. Now, run project …<br><img src="http://dl.iteye.com/upload/attachment/0077/0409/4ac5fe50-df31-3dee-80ff-936c7605973c.png" alt="" title="点击查看原始大小图片"></p>
<p>Some useful document:<br><a href="http://www.tangentsoftworks.com/blog/2012/11/12/how-to-prepare-your-mac-for-ios-development-with-ffmpeg-libraries/" target="_blank" rel="external">《How to prepare your mac for ios development with ffmpeg libraries》</a><br><a href="http://www.tangentsoftworks.com/blog/wp-content/uploads/2012/11/FFmpeg-Configure-Options.pdf" target="_blank" rel="external">《ffmpeg configure options》 -pdf</a></p>
</div></article><div id="base-discus"></div></div></div><footer class="base-footer"><div class="footer-wrapper"><span>Coding的小学生 Using </span><a href="https://github.com/chuguixin/Simple"><span>Simple</span></a><span> Presents For You.</span></div></footer><div class="dom-ready"><script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><script src="/js/base.js"></script></div></body></html>